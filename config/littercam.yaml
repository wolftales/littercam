# LitterCam Configuration

capture:
  output_root: ./data/events

  # Motion sensitivity (1-20, lower = more sensitive)
  # 5 = very sensitive, catches subtle movement
  # 10 = moderate, good for larger movements
  # 15+ = low sensitivity, only big changes
  motion_threshold: 5.0

  # Consecutive frames of motion needed to trigger (1-5)
  # Lower = faster reaction, higher = fewer false positives
  trigger_frames: 2

  # Seconds to wait between capture events
  # Prevents rapid-fire captures of the same activity
  cooldown_seconds: 20

  # Legacy alias â€” max_capture_seconds is preferred
  capture_seconds: 120

  # Maximum recording duration (seconds)
  # Recording stops earlier if no activity detected
  max_capture_seconds: 120

  # Time between each image during capture (seconds)
  # 0.5 = 2 images per second, 1.0 = 1 image per second
  capture_interval_seconds: 0.5

  # Resolution for motion detection (lower = faster, less precise)
  downscale_width: 320
  downscale_height: 240

  # Seconds of pre-trigger frames to keep in buffer
  # These frames are saved when motion triggers, capturing the approach
  pre_roll_seconds: 5

  # Seconds of inactivity after last motion/detection before stopping
  post_roll_seconds: 5

  # Main capture resolution (4:3 matches IMX219 sensor, no crop)
  main_width: 1920
  main_height: 1440

  # JPEG quality for captured images (1-100)
  jpeg_quality: 85

  # Camera orientation (set both true if image is upside down)
  vflip: true
  hflip: true

cat_detection:
  # Enable cat detection via ONNX Runtime (requires model files)
  enabled: true

  # Path to YOLOv8s ONNX model (better than yolov8n for difficult cases)
  model_path: ./models/yolov8s.onnx

  # Path to COCO labels file
  labels_path: ./models/coco_labels.txt

  # Minimum confidence for a cat detection (0.0-1.0)
  # 0.3 works well for full-res images with YOLOv8s
  confidence_threshold: 0.3

retention:
  # Automatically delete events older than this many days
  days_to_keep: 14

web:
  host: 0.0.0.0
  port: 8000
  base_url: http://littercam.local:8000

logging:
  level: INFO
  file_logging: false
  log_dir: ./logs
